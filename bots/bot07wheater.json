{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"6f63167d-effe-4118-acc8-687d2b389843","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"7b01b02a-c6cf-479f-a1c3-dffacdc685ca","$connId":"con_3","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#61D36F","label":"baixo","id":"blip-tag-90aa808c-d948-ff5a-132b-5ec079eb8237"}],"id":"onboarding","root":true,"$position":{"top":"120px","left":"644px"},"$title":"In√≠cio","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"0534b52d-234c-4fb2-a778-ca9ee7cd6b6a","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"error","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"c1586728-3322-4080-9807-fecb837dad21","$connId":"con_8","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"fallback","$position":{"top":"120px","left":"877px"},"$title":"Exce√ß√µes","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"welcome":{"$contentActions":[{"action":{"$id":"b0321b20-6a90-4a93-846e-e4c96c0e929e","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000000","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000000","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"48495d74-26ed-4e04-8488-1291506e51d9","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000001","type":"text/plain","content":"Ol√°!\nSou o üõ∞Ô∏èWeatherBot‚òÅÔ∏è seu bot de previs√£o do tempo.","metadata":{}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000001","type":"text/plain","content":"Ol√°!\nSou o üõ∞Ô∏èWeatherBot‚òÅÔ∏è seu bot de previs√£o do tempo."},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"83cb2295-87f6-4acf-8df5-9c5b4d25ab3c","type":"SendMessage","settings":{"id":"36d3dcc9-5407-463f-a235-e5867002b8db","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"36d3dcc9-5407-463f-a235-e5867002b8db","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"ff84cca5-d34f-4ac0-8692-821cfabf8e54","type":"SendMessage","settings":{"id":"346653e6-4f80-473b-a451-e86fad4109f8","type":"application/vnd.lime.select+json","content":{"text":"Posso te ajudar com informa√ß√µes do clima de qualquer cidade do mundo, deseja escolher a cidade, saber o clima da sua cidade, ou digitar a cidade?","scope":"immediate","options":[{"text":"Escolher cidade","previewText":"Escolher cidade","value":null,"index":0,"type":null},{"text":"Minha cidade","previewText":"Minha cidade","value":null,"index":1,"type":null}]},"metadata":{}},"$cardContent":{"document":{"id":"346653e6-4f80-473b-a451-e86fad4109f8","type":"application/vnd.lime.select+json","content":{"text":"Posso te ajudar com informa√ß√µes do clima de qualquer cidade do mundo, deseja escolher a cidade, saber o clima da sua cidade, ou digitar a cidade?","scope":"immediate","options":[{"text":"Escolher cidade","previewText":"Escolher cidade","value":null,"index":0,"type":null},{"text":"Minha cidade","previewText":"Minha cidade","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"fc2ac864-69e8-4983-8c2f-778e43c9f5da","type":"text/plain","content":"cidadeEstado"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"cidadeEstado"},"$invalid":false}],"$conditionOutputs":[{"stateId":"6d93a4b8-2329-407d-9417-3e54c1f3de3d","$connId":"con_13","$id":"0d24889d-399e-4d2b-a279-3bc61a78e436","conditions":[{"source":"input","comparison":"equals","values":["Escolher cidade"]}],"$invalid":false},{"stateId":"a8b6d76f-81f6-4c6e-8cb6-655a09ecc11b","$connId":"con_18","$id":"e4abdc47-6a10-4e69-a182-4d8f058b6881","conditions":[{"source":"input","comparison":"equals","values":["O clima da minha cidade","minha cidade"]}],"$invalid":false},{"stateId":"7cdda703-9fa1-4f7b-aa9d-95d7a4cb89fc","$connId":"con_23","$id":"2e1efe2b-f0da-4517-bb60-54bc5ed7edd8","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"74a6ec68-dc02-49f0-a573-8c1ab5d3ce36","type":"ProcessHttp","$title":"Requisi√ß√£o HTTP","$invalid":false,"settings":{"headers":{},"method":"GET","uri":"http://api.weatherstack.com/current?access_key=1a76b1347d707c3f6871b1a521b8be12&query="},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":["Escolher cidade","Minha cidade"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF961E","label":"m√©dio","id":"blip-tag-9c09a367-fe33-585f-2f82-6271c3d89f81","canChangeBackground":false}],"id":"welcome","$position":{"top":"235px","left":"643px"},"$title":"Boas vindas","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"error":{"$contentActions":[{"action":{"$id":"c3325d49-2872-44a4-8115-c3d4e57a695c","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"af6d4691-ce78-4f10-b692-d842af5d5b0f","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, n√£o consegui entender!"},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, n√£o consegui entender!"},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"f0299d43-c117-4248-b1ea-fc67d261fb4b","type":"text/plain","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"error","$position":{"top":"240px","left":"877px"},"$title":"Erro padr√£o","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"6d93a4b8-2329-407d-9417-3e54c1f3de3d":{"$contentActions":[{"action":{"$id":"100f859e-9bae-4e63-b55b-e4945a4e746c","type":"SendMessage","settings":{"id":"30ac5e10-bd7f-4232-a262-8155f5202cfa","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"30ac5e10-bd7f-4232-a262-8155f5202cfa","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5728642d-475d-453b-9ceb-d84537fe7c83","type":"SendMessage","settings":{"id":"20b59ca2-68a0-40ad-a9ee-a4c69d0f7d8f","type":"application/vnd.lime.select+json","content":{"text":"Qual cidade voc√™ deseja saber as informa√ß√µes do clima?","scope":"immediate","options":[{"text":"Belo Horizonte","previewText":"Belo Horizonte","value":null,"index":0,"type":null},{"text":"New York","previewText":"New York","value":null,"index":1,"type":null},{"index":-1,"text":"S√£o Paulo","previewText":"S√£o Paulo","type":null,"value":null},{"index":-1,"text":"Ribeir√£o das Neves, Minas Gerais","previewText":"Ribeir√£o das Neves, Minas Gerais","type":null,"value":null}]},"metadata":{}},"$cardContent":{"document":{"id":"20b59ca2-68a0-40ad-a9ee-a4c69d0f7d8f","type":"application/vnd.lime.select+json","content":{"text":"Qual cidade voc√™ deseja saber as informa√ß√µes do clima?","scope":"immediate","options":[{"text":"Belo Horizonte","previewText":"Belo Horizonte","value":null,"index":0,"type":null},{"text":"New York","previewText":"New York","value":null,"index":1,"type":null},{"index":-1,"text":"S√£o Paulo","previewText":"S√£o Paulo","type":null,"value":null},{"index":-1,"text":"Ribeir√£o das Neves, Minas Gerais","previewText":"Ribeir√£o das Neves, Minas Gerais","type":null,"value":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"597e8ef6-e817-4c5d-9366-15af96bbc5de","type":"text/plain","textContent":"Entrada do usu√°rio","content":"cidadeEstado"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"cidadeEstado"},"$invalid":false}],"$conditionOutputs":[{"stateId":"7cdda703-9fa1-4f7b-aa9d-95d7a4cb89fc","$connId":"con_28","$id":"abd25944-cc72-4ccd-8b81-d75a4cc89752","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"1e62e935-6935-4fbf-b920-b8bd9b1533b2","type":"TrackEvent","$title":"Registro de eventos","$invalid":false,"settings":{"extras":{},"category":"clima","action":"cidade"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":["Belo Horizonte","New York","S√£o Paulo","Ribeir√£o das Neves, Minas Gerais"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#61D36F","label":"baixo","id":"blip-tag-90aa808c-d948-ff5a-132b-5ec079eb8237","canChangeBackground":false}],"id":"6d93a4b8-2329-407d-9417-3e54c1f3de3d","root":false,"$title":"Cidade","$position":{"top":"326px","left":"370px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"a8b6d76f-81f6-4c6e-8cb6-655a09ecc11b":{"$contentActions":[{"action":{"$id":"649cd8d1-4c20-4580-8a62-0be6f37e695c","type":"SendMessage","settings":{"id":"dd107e82-76b9-49a6-b018-d9f397ac8a02","type":"application/vnd.lime.input+json","content":{"label":{"type":"text/plain","value":"Para obter o clima local por favor compartilhe sua localiza√ß√£o"},"validation":{"rule":"type","type":"application/vnd.lime.location+json"}},"metadata":{"#stateName":"{{state.name}}","#stateId":"{{state.id}}","#messageId":"{{input.message@id}}","#previousStateId":"{{state.previous.id}}","#previousStateName":"{{state.previous.name}}"}},"$cardContent":{"document":{"id":"dd107e82-76b9-49a6-b018-d9f397ac8a02","type":"application/vnd.lime.input+json","content":{"label":{"type":"text/plain","value":"Para obter o clima local por favor compartilhe sua localiza√ß√£o"},"validation":{"rule":"type","type":"application/vnd.lime.location+json"}}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"d4f5cf5b-8836-4bac-adb2-9da800d408b8","type":"text/plain","textContent":"Entrada do usu√°rio","content":"localizacao"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"localizacao"},"$invalid":false}],"$conditionOutputs":[{"stateId":"7cdda703-9fa1-4f7b-aa9d-95d7a4cb89fc","$connId":"con_33","$id":"f0bf98ac-acf8-44ae-8be0-6eb930cdc460","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"7fe86096-0b85-46e6-a513-e84e8eb32722","type":"TrackEvent","$title":"Registro de eventos","$invalid":false,"settings":{"extras":{},"category":"clima","action":"localiza√ß√£o"},"conditions":[]}],"$leavingCustomActions":[{"$id":"1a09be99-e388-4df4-96c3-d71d2e0d10c6","type":"ProcessHttp","$title":"Geolocaliza√ß√£o reversa","$invalid":false,"settings":{"headers":{},"method":"GET","uri":"https://geocode.xyz/{{localizacao@latitude}},{{localizacao@longitude}}?geoit=json&auth=427388060330539419745x99560","responseStatusVariable":"statusGeo","responseBodyVariable":"responseGeo"},"conditions":[]},{"$id":"f7ca9cda-e4db-492b-a7d0-3a88ca548502","type":"SetVariable","$title":"Definir vari√°vel","$invalid":false,"settings":{"value":"{{responseGeo@region}}","variable":"cidadeEstado"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF961E","label":"m√©dio","id":"blip-tag-9c09a367-fe33-585f-2f82-6271c3d89f81","canChangeBackground":false}],"id":"a8b6d76f-81f6-4c6e-8cb6-655a09ecc11b","root":false,"$title":"Localiza√ß√£o","$position":{"top":"425px","left":"773px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"7cdda703-9fa1-4f7b-aa9d-95d7a4cb89fc":{"$contentActions":[{"action":{"$id":"4d669040-f3e1-40a2-ac9d-0c224f15313d","type":"SendMessage","settings":{"id":"57783e45-d1f8-4842-869f-f4b312402391","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"57783e45-d1f8-4842-869f-f4b312402391","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"e706ceb5-2ddb-448a-bf31-37a8cff536c7","type":"SendMessage","settings":{"id":"a6b084cf-820c-4618-8fc6-9cc6293fd130","type":"text/plain","content":"Em instantes sua previs√£o estar√° prontinha üõ∞Ô∏è‚òÅÔ∏è","metadata":{}},"$cardContent":{"document":{"id":"a6b084cf-820c-4618-8fc6-9cc6293fd130","type":"text/plain","content":"Em instantes sua previs√£o estar√° prontinha üõ∞Ô∏è‚òÅÔ∏è"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"346dc8ad-2af8-4f61-b137-68e63a487297","type":"SendMessage","settings":{"id":"2aec10e2-f837-4b2d-b14b-a746a8134a8e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"2aec10e2-f837-4b2d-b14b-a746a8134a8e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"53ac7cbf-7886-4355-ba66-574c14b5aa68","type":"SendMessage","settings":{"id":"f86f7585-3083-48a9-8369-c49e9405a2c0","type":"text/plain","content":"A previs√£o para {{responseCity@location.name}},\n {{responseCity@location.region}} √©","metadata":{}},"$cardContent":{"document":{"id":"f86f7585-3083-48a9-8369-c49e9405a2c0","type":"text/plain","content":"A previs√£o para {{responseCity@location.name}},\n {{responseCity@location.region}} √©"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"3e0754f4-7bae-46d4-bb5e-5c5428d06fb1","type":"SendMessage","settings":{"id":"75b63cb9-5a3f-47be-b8e3-bb69b161bd57","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"75b63cb9-5a3f-47be-b8e3-bb69b161bd57","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"5944824e-c2aa-43ad-ad33-81422777abd1","type":"SendMessage","settings":{"id":"57c118d5-a137-4100-8ad4-6cc58bd6e559","type":"application/vnd.lime.media-link+json","content":{"title":"{{weatherDescription}}","text":"Temperatura atual {{responseCity@current.temperature}}¬∫\nUmidade: {{responseCity@current.humidity}}%\nSensa√ß√£o T√©rmica: {{responseCity@current.feelslike}}¬∫\nChance de chuva: {{responseCity@current.precip}}%","type":"image/jpeg","uri":"{{weather@icon}}","aspectRatio":"1:1"},"metadata":{}},"$cardContent":{"document":{"id":"57c118d5-a137-4100-8ad4-6cc58bd6e559","type":"application/vnd.lime.media-link+json","content":{"title":"{{weatherDescription}}","text":"Temperatura atual {{responseCity@current.temperature}}¬∫\nUmidade: {{responseCity@current.humidity}}%\nSensa√ß√£o T√©rmica: {{responseCity@current.feelslike}}¬∫\nChance de chuva: {{responseCity@current.precip}}%","type":"image/jpeg","uri":"{{weather@icon}}","aspectRatio":"1:1"}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"c543e274-9167-4679-ad66-629dd7633feb","type":"SendMessage","settings":{"id":"2ae3304a-a591-4c02-9327-ae35056687a6","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"2ae3304a-a591-4c02-9327-ae35056687a6","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"045f5499-e66e-45a7-bfd6-3644a3d15d72","type":"SendMessage","settings":{"id":"de77e332-6559-4c05-b2ee-b526b1aeac3a","type":"application/vnd.lime.select+json","content":{"text":"Vamos buscar uma nova previs√£o do tempo?","scope":"immediate","options":[{"text":"Vamos!‚ùÑÔ∏è‚òÅÔ∏èüõ∞Ô∏è","previewText":"Vamos!‚ùÑÔ∏è‚òÅÔ∏èüõ∞Ô∏è","value":null,"index":0,"type":null},{"text":"N√£o, deixa para a pr√≥xima!","previewText":"N√£o, deixa para a pr√≥xima!","value":null,"index":1,"type":null}]},"metadata":{}},"$cardContent":{"document":{"id":"de77e332-6559-4c05-b2ee-b526b1aeac3a","type":"application/vnd.lime.select+json","content":{"text":"Vamos buscar uma nova previs√£o do tempo?","scope":"immediate","options":[{"text":"Vamos!‚ùÑÔ∏è‚òÅÔ∏èüõ∞Ô∏è","previewText":"Vamos!‚ùÑÔ∏è‚òÅÔ∏èüõ∞Ô∏è","value":null,"index":0,"type":null},{"text":"N√£o, deixa para a pr√≥xima!","previewText":"N√£o, deixa para a pr√≥xima!","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"34004794-99d4-4a88-b278-32475adb8c1c","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","$connId":"con_38","$id":"935aa737-ea96-492a-8a15-e75a7e0419d8","conditions":[{"source":"input","comparison":"equals","values":["Vamos!‚ùÑÔ∏è‚òÅÔ∏èüõ∞Ô∏è"]}],"$invalid":false},{"stateId":"b88dd4ae-b227-4331-a4df-85692e5d5ae7","$connId":"con_43","$id":"43071b99-d77e-4419-8a63-1ee58b76d367","conditions":[{"source":"input","comparison":"equals","values":["N√£o, deixa para a pr√≥xima!"]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"5ae9848c-1b11-430f-8758-9076e95b8c92","type":"ProcessHttp","$title":"Obter clima cidade","$invalid":false,"settings":{"headers":{},"method":"GET","uri":"http://api.weatherstack.com/current?access_key=1a76b1347d707c3f6871b1a521b8be12&query={{cidadeEstado}}","responseStatusVariable":"statusCity","responseBodyVariable":"responseCity"},"conditions":[]},{"$id":"2c77477e-e854-4951-b5c5-1bc820dd1044","type":"ExecuteScript","$title":"Refinar JSON","$invalid":false,"settings":{"function":"run","source":"/**\n            * All input variables needs to be passed as function param;\n            * Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n            * Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n            **/\n            function run(responseCity) {\n                var json = JSON.parse(responseCity);\n                var weather = JSON.parse(`{\"icon\":\"${json.current.weather_icons[0]}\", \"description\":\"${json.current.weather_descriptions[0]}\"}`);\n                return JSON.stringify(weather); //Return value will be saved as \"Return value variable\" field name\n            }","inputVariables":["responseCity"],"outputVariable":"weather","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"520c03ac-2d48-41b8-8720-8ecac87287e3","type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"/**\n            * All input variables needs to be passed as function param;\n            * Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n            * Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n            **/\n            function run(responseCity) {\n                var json = JSON.parse(responseCity);\n                var cloudCover = json.current.cloudcover;\n                var description = \"\";\n                if(cloudCover < 20){\n                    description =  \"C√©u limpo\";\n                }else if(cloudCover < 60){\n                    description =  \"C√©u parcimente nublado\";\n                }else{\n                    description =  \"C√©u nublado\";\n                }\n                return description; //Return value will be saved as \"Return value variable\" field name\n            }","inputVariables":["responseCity"],"outputVariable":"weatherDescription","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":["Vamos!‚ùÑÔ∏è‚òÅÔ∏èüõ∞Ô∏è","N√£o, deixa para a pr√≥xima!"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF4A1E","label":"alto","id":"blip-tag-1b47b412-63ba-4b94-03a0-08872040acc0","canChangeBackground":false}],"id":"7cdda703-9fa1-4f7b-aa9d-95d7a4cb89fc","root":false,"$title":"Clima da cidade","$position":{"top":"547px","left":"466px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"b88dd4ae-b227-4331-a4df-85692e5d5ae7":{"$contentActions":[{"action":{"$id":"98dd8fa6-ba37-4699-8665-5c02083f9868","type":"SendMessage","settings":{"id":"ccb3cbd1-5612-4b00-91ca-bfa261a435c3","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"ccb3cbd1-5612-4b00-91ca-bfa261a435c3","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"46a92f55-b5d0-44e0-aaec-8f39be1fe34e","type":"SendMessage","settings":{"id":"bd489f78-1dea-49e8-9837-8a3574911a0d","type":"text/plain","content":"Muito obrigado por usar nossos servi√ßos de previs√£o do tempo, a equipe do üõ∞Ô∏èWeatherBot‚òÅÔ∏è fica muito feliz em ter voc√™ aqui üòÄ, caso queira realizar uma nova solicita√ß√£o mande uma mensagem em nosso chat.","metadata":{}},"$cardContent":{"document":{"id":"bd489f78-1dea-49e8-9837-8a3574911a0d","type":"text/plain","content":"Muito obrigado por usar nossos servi√ßos de previs√£o do tempo, a equipe do üõ∞Ô∏èWeatherBot‚òÅÔ∏è fica muito feliz em ter voc√™ aqui üòÄ, caso queira realizar uma nova solicita√ß√£o mande uma mensagem em nosso chat."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"d36a1072-6ee8-423b-a92d-42c155cf53e4","type":"text/plain","textContent":"Entrada do usu√°rio","content":"Entrada do usu√°rio"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","$connId":"con_48","$id":"cb859963-b1b4-41b6-946c-005271ddb54a","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#61D36F","label":"baixo","id":"blip-tag-90aa808c-d948-ff5a-132b-5ec079eb8237","canChangeBackground":false}],"id":"b88dd4ae-b227-4331-a4df-85692e5d5ae7","root":false,"$title":"Despedida","$position":{"top":"504px","left":"969px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"globalAction":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false}}